<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Previous Year Question Papers ‚Äì VIDYA-CUE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="studentstyle.css">
    <style>
      * { box-sizing: border-box; margin:0; padding:0; }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background:#f3f4f6;
        color:#111827;
        padding:1.5rem;
      }

      .page-root { max-width:1400px; margin:0 auto; }
      .space-y-6 > * + * { margin-top:1.5rem; }

      h1 { font-size:1.9rem; font-weight:700; }

      /* Card, badge, button, input */
      .card {
        background:#ffffff;
        border-radius:1.1rem;
        box-shadow:0 10px 25px rgba(15,23,42,0.12);
      }
      .card-inner { padding:1.5rem; }

      .btn {
        border-radius:9999px;
        border:1px solid #d1d5db;
        padding:0.4rem 0.9rem;
        background:#ffffff;
        cursor:pointer;
        font-size:0.8rem;
        display:inline-flex;
        align-items:center;
        justify-content:center;
        gap:0.3rem;
      }
      .btn:hover { background:#f3f4f6; }
      .btn-sm { padding:0.3rem 0.8rem; font-size:0.78rem; }
      .btn-primary {
        background:#2563eb;
        border-color:#2563eb;
        color:#e5e7eb;
      }
      .btn-primary:hover { background:#1d4ed8; }

      .badge {
        display:inline-flex;
        align-items:center;
        justify-content:center;
        padding:0.15rem 0.55rem;
        border-radius:9999px;
        font-size:0.7rem;
        border:1px solid transparent;
      }
      .badge-outline {
        border-color:#e5e7eb;
        background:transparent;
        color:#4b5563;
      }

      .input {
        width:100%;
        border-radius:0.7rem;
        border:1px solid #d1d5db;
        padding:0.45rem 0.75rem;
        font-size:0.85rem;
        background:#f3f4f6;
      }
      .input:focus {
        outline:none;
        border-color:#2563eb;
        box-shadow:0 0 0 1px #2563eb33;
      }

      select {
        width:100%;
        border-radius:0.7rem;
        border:1px solid #d1d5db;
        padding:0.45rem 0.75rem;
        font-size:0.85rem;
        background:#f3f4f6;
      }

      .text-muted { color:#6b7280; }
      .text-xs { font-size:0.75rem; }
      .text-sm { font-size:0.82rem; }

      /* Hero */
      .hero {
        background:linear-gradient(135deg,#2563eb,#06b6d4);
        border-radius:1.5rem;
        padding:2rem;
        color:#dbeafe;
        box-shadow:0 20px 40px rgba(37,99,235,0.6);
      }
      .hero-inner {
        display:flex;
        flex-direction:column;
        gap:1.5rem;
      }
      @media (min-width:1024px) {
        .hero-inner {
          flex-direction:row;
          align-items:center;
          justify-content:space-between;
        }
      }
      .hero-chip {
        display:inline-flex;
        align-items:center;
        gap:0.35rem;
        font-size:0.75rem;
        padding:0.2rem 0.8rem;
        border-radius:9999px;
        background:rgba(255,255,255,0.2);
        backdrop-filter:blur(6px);
        margin-bottom:0.7rem;
      }
      .hero-stat-grid {
        display:grid;
        grid-template-columns:repeat(2,minmax(0,1fr));
        gap:0.75rem;
      }
      .hero-stat {
        background:rgba(255,255,255,0.12);
        padding:0.8rem;
        border-radius:0.9rem;
        border:1px solid rgba(255,255,255,0.3);
        text-align:left;
      }
      .hero-stat-value {
        font-size:1.4rem;
        font-weight:600;
        margin-bottom:0.1rem;
      }
      .hero-stat-label {
        font-size:0.7rem;
        color:#e0f2fe;
      }

      /* Layout grids */
      .grid-3 {
        display:grid;
        grid-template-columns:minmax(0,1fr);
        gap:1rem;
      }
      @media (min-width:768px) {
        .grid-3 {
          grid-template-columns:repeat(3,minmax(0,1fr));
        }
      }

      .grid-papers {
        display:grid;
        grid-template-columns:minmax(0,1fr);
        gap:1.2rem;
      }
      @media (min-width:768px) {
        .grid-papers { grid-template-columns:repeat(2,minmax(0,1fr)); }
      }
      @media (min-width:1024px) {
        .grid-papers { grid-template-columns:repeat(3,minmax(0,1fr)); }
      }

      /* Tabs */
      .tabs-list {
        display:inline-flex;
        gap:0.4rem;
        background:#e5e7eb;
        border-radius:9999px;
        padding:0.25rem;
      }
      .tab-btn {
        border:none;
        background:transparent;
        padding:0.3rem 0.9rem;
        font-size:0.8rem;
        border-radius:9999px;
        cursor:pointer;
      }
      .tab-btn.active {
        background:#ffffff;
        box-shadow:0 2px 6px rgba(15,23,42,0.2);
      }
      .tab-panel { margin-top:1rem; }

      /* Paper card */
      .paper-card {
        padding:1.2rem;
        border-radius:1rem;
        border:none;
        background:#ffffff;
        box-shadow:0 8px 20px rgba(15,23,42,0.08);
        transition:box-shadow 0.15s ease, transform 0.15s ease;
      }
      .paper-card:hover {
        box-shadow:0 12px 26px rgba(15,23,42,0.14);
        transform:translateY(-1px);
      }

      .flex { display:flex; }
      .flex-between { display:flex; justify-content:space-between; align-items:center; }
      .flex-center { display:flex; align-items:center; }

      .pill-topics {
        display:flex;
        flex-wrap:wrap;
        gap:0.25rem;
      }

      .badge-topic {
        font-size:0.72rem;
      }

      .avatar-icon {
        width:3rem;
        height:3rem;
        border-radius:0.9rem;
        background:#dbeafe;
        display:flex;
        align-items:center;
        justify-content:center;
        font-size:1.4rem;
        color:#1d4ed8;
      }

      .no-data {
        padding:3rem 1rem;
        text-align:center;
      }
    </style>
  </head>
  <body>
    <div id="header-placeholder"></div>
    <div class="page-root">
      <div class="space-y-6">
        <!-- Header -->
        <section class="hero">
          <div class="hero-inner">
            <div>
              <div class="hero-chip">
                <span>üìÑ</span>
                <span>Question Papers</span>
              </div>
              <h1 style="color:#eff6ff;margin-bottom:0.2rem;">
                Previous Year Question Papers
              </h1>
              <p style="font-size:0.85rem;color:#e0f2fe;">
                Access past exam papers to prepare better.
              </p>
            </div>
            <div class="hero-stat-grid">
              <div class="hero-stat">
                <div class="hero-stat-value" id="statTotalPapers">0</div>
                <div class="hero-stat-label">Total Papers</div>
              </div>
              <div class="hero-stat">
                <div class="hero-stat-value" id="statSubjects">0</div>
                <div class="hero-stat-label">Subjects</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Search + Filters -->
        <section class="card">
          <div class="card-inner">
            <div class="grid-3">
              <div>
                <div style="position:relative;">
                  <span style="position:absolute;left:0.7rem;top:50%;transform:translateY(-50%);font-size:0.95rem;color:#9ca3af;">
                    üîç
                  </span>
                  <input
                    id="searchInput"
                    class="input"
                    style="padding-left:2rem;"
                    placeholder="Search papers..."
                  />
                </div>
              </div>
              <div>
                <select id="yearSelect">
                  <option value="all">All Years</option>
                </select>
              </div>
              <div>
                <select id="subjectSelect">
                  <option value="all">All Subjects</option>
                </select>
              </div>
            </div>
          </div>
        </section>

        <!-- Tabs -->
        <section>
          <div class="tabs-list">
            <button class="tab-btn active" data-tab="all">
              All Papers (<span id="countAll">0</span>)
            </button>
            <button class="tab-btn" data-tab="midterm">
              Mid-Term (<span id="countMid">0</span>)
            </button>
            <button class="tab-btn" data-tab="endterm">
              End-Term (<span id="countEnd">0</span>)
            </button>
          </div>

          <div id="panel-all" class="tab-panel"></div>
          <div id="panel-midterm" class="tab-panel" style="display:none;"></div>
          <div id="panel-endterm" class="tab-panel" style="display:none;"></div>
        </section>
      </div>
    </div>

    <script>
      const pyqPapers = [
        {
          id: 1,
          subject: "Mathematics",
          code: "MATH101",
          year: 2023,
          semester: "Semester 1",
          examType: "Mid-Term",
          pages: 8,
          downloads: 245,
          rating: 4.5,
          uploadDate: "2023-12-15",
          topics: ["Calculus", "Linear Algebra", "Differential Equations"],
        },
        {
          id: 2,
          subject: "Mathematics",
          code: "MATH101",
          year: 2023,
          semester: "Semester 1",
          examType: "End-Term",
          pages: 12,
          downloads: 312,
          rating: 4.8,
          uploadDate: "2023-12-20",
          topics: ["Calculus", "Linear Algebra", "Integration", "Series"],
        },
        {
          id: 3,
          subject: "Physics",
          code: "PHY101",
          year: 2023,
          semester: "Semester 1",
          examType: "Mid-Term",
          pages: 10,
          downloads: 198,
          rating: 4.3,
          uploadDate: "2023-12-14",
          topics: ["Mechanics", "Thermodynamics", "Optics"],
        },
        {
          id: 4,
          subject: "Physics",
          code: "PHY101",
          year: 2023,
          semester: "Semester 1",
          examType: "End-Term",
          pages: 14,
          downloads: 267,
          rating: 4.6,
          uploadDate: "2023-12-22",
          topics: [
            "Quantum Physics",
            "Electromagnetism",
            "Modern Physics",
          ],
        },
        {
          id: 5,
          subject: "Programming",
          code: "CS101",
          year: 2023,
          semester: "Semester 1",
          examType: "Mid-Term",
          pages: 6,
          downloads: 421,
          rating: 4.9,
          uploadDate: "2023-12-10",
          topics: ["C Programming", "Data Types", "Control Structures"],
        },
        {
          id: 6,
          subject: "Programming",
          code: "CS101",
          year: 2023,
          semester: "Semester 1",
          examType: "End-Term",
          pages: 10,
          downloads: 534,
          rating: 4.9,
          uploadDate: "2023-12-18",
          topics: [
            "Pointers",
            "Functions",
            "Data Structures",
            "File Handling",
          ],
        },
        {
          id: 7,
          subject: "Communication Skills",
          code: "ENG101",
          year: 2023,
          semester: "Semester 1",
          examType: "Mid-Term",
          pages: 5,
          downloads: 156,
          rating: 4.2,
          uploadDate: "2023-12-12",
          topics: ["Grammar", "Writing Skills", "Comprehension"],
        },
        {
          id: 8,
          subject: "Communication Skills",
          code: "ENG101",
          year: 2023,
          semester: "Semester 1",
          examType: "End-Term",
          pages: 8,
          downloads: 203,
          rating: 4.4,
          uploadDate: "2023-12-21",
          topics: [
            "Technical Writing",
            "Presentation Skills",
            "Professional Communication",
          ],
        },
        {
          id: 9,
          subject: "Mathematics",
          code: "MATH101",
          year: 2022,
          semester: "Semester 1",
          examType: "End-Term",
          pages: 11,
          downloads: 289,
          rating: 4.6,
          uploadDate: "2022-12-20",
          topics: [
            "Calculus",
            "Linear Algebra",
            "Vector Calculus",
          ],
        },
        {
          id: 10,
          subject: "Programming",
          code: "CS101",
          year: 2022,
          semester: "Semester 1",
          examType: "End-Term",
          pages: 9,
          downloads: 478,
          rating: 4.7,
          uploadDate: "2022-12-19",
          topics: ["Arrays", "Strings", "Structures", "Algorithms"],
        },
      ];

      let searchTerm = "";
      let selectedYear = "all";
      let selectedSubject = "all";
      let activeTab = "all";

      const searchInput = document.getElementById("searchInput");
      const yearSelect = document.getElementById("yearSelect");
      const subjectSelect = document.getElementById("subjectSelect");
      const panelAll = document.getElementById("panel-all");
      const panelMid = document.getElementById("panel-midterm");
      const panelEnd = document.getElementById("panel-endterm");
      const countAll = document.getElementById("countAll");
      const countMid = document.getElementById("countMid");
      const countEnd = document.getElementById("countEnd");
      const statTotalPapers = document.getElementById("statTotalPapers");
      const statSubjects = document.getElementById("statSubjects");

      function initFilters() {
        statTotalPapers.textContent = pyqPapers.length;

        const subjects = [...new Set(pyqPapers.map((p) => p.subject))];
        statSubjects.textContent = subjects.length;
        subjects.forEach((subj) => {
          const opt = document.createElement("option");
          opt.value = subj;
          opt.textContent = subj;
          subjectSelect.appendChild(opt);
        });

        const years = [...new Set(pyqPapers.map((p) => p.year))].sort(
          (a, b) => b - a
        );
        years.forEach((year) => {
          const opt = document.createElement("option");
          opt.value = year;
          opt.textContent = year;
          yearSelect.appendChild(opt);
        });
      }

      function getFilteredPapers() {
        return pyqPapers.filter((paper) => {
          const sTerm = searchTerm.toLowerCase();
          const matchesSearch =
            paper.subject.toLowerCase().includes(sTerm) ||
            paper.code.toLowerCase().includes(sTerm) ||
            paper.topics.some((t) => t.toLowerCase().includes(sTerm));

          const matchesYear =
            selectedYear === "all" || paper.year === parseInt(selectedYear);
          const matchesSubject =
            selectedSubject === "all" || paper.subject === selectedSubject;

          return matchesSearch && matchesYear && matchesSubject;
        });
      }

      function renderPaperGrid(container, papers) {
        container.innerHTML = "";
        if (papers.length === 0) {
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `
            <div class="card-inner no-data">
              <div style="font-size:2rem;color:#9ca3af;margin-bottom:0.5rem;">üìÑ</div>
              <div style="margin-bottom:0.2rem;">No papers found</div>
              <div class="text-sm text-muted">Try adjusting your filters.</div>
            </div>
          `;
          container.appendChild(card);
          return;
        }

        const grid = document.createElement("div");
        grid.className = "grid-papers";

        papers.forEach((paper) => {
          const card = document.createElement("div");
          card.className = "paper-card";
          const isMid = paper.examType === "Mid-Term";
          const badgeClass = isMid
            ? "background:#f3e8ff;color:#6b21a8;border-color:#e9d5ff;"
            : "background:#ffedd5;color:#9a3412;border-color:#fed7aa;";
          card.innerHTML = `
            <div class="flex-between" style="margin-bottom:0.8rem;">
              <div class="avatar-icon">
                üìÑ
              </div>
              <span class="badge" style="${badgeClass}">${paper.examType}</span>
            </div>
            <div style="margin-bottom:0.2rem;font-weight:600;">${paper.subject}</div>
            <div class="text-sm text-muted" style="margin-bottom:0.7rem;">
              ${paper.code} ‚Ä¢ ${paper.semester}
            </div>
            <div style="margin-bottom:0.6rem;">
              <div class="flex-between text-sm" style="margin-bottom:0.15rem;">
                <span class="text-muted">Year</span>
                <span>${paper.year}</span>
              </div>
              <div class="flex-between text-sm" style="margin-bottom:0.15rem;">
                <span class="text-muted">Pages</span>
                <span>${paper.pages}</span>
              </div>
              <div class="flex-between text-sm" style="margin-bottom:0.15rem;">
                <span class="text-muted">Downloads</span>
                <span>${paper.downloads}</span>
              </div>
              <div class="flex-between text-sm">
                <span class="text-muted">Rating</span>
                <span class="flex-center" style="gap:0.15rem;">
                  <span style="color:#facc15;">‚òÖ</span>
                  <span>${paper.rating}</span>
                </span>
              </div>
            </div>
            <div style="margin-bottom:0.5rem;">
              <div class="text-sm text-muted" style="margin-bottom:0.25rem;">
                Topics Covered
              </div>
              <div class="pill-topics">
                ${paper.topics
                  .map(
                    (t) =>
                      `<span class="badge badge-outline badge-topic">${t}</span>`
                  )
                  .join("")}
              </div>
            </div>
            <div style="margin-top:0.6rem;padding-top:0.6rem;border-top:1px solid #e5e7eb;display:flex;gap:0.4rem;">
              <button class="btn btn-sm btn-primary" style="flex:1;">
                <span>‚¨á</span>
                <span>Download</span>
              </button>
              <button class="btn btn-sm">
                <span>üëÅ</span>
              </button>
            </div>
          `;
          grid.appendChild(card);
        });

        container.appendChild(grid);
      }

      function render() {
        const filtered = getFilteredPapers();
        const mid = filtered.filter((p) => p.examType === "Mid-Term");
        const end = filtered.filter((p) => p.examType === "End-Term");

        countAll.textContent = filtered.length;
        countMid.textContent = mid.length;
        countEnd.textContent = end.length;

        if (activeTab === "all") {
          renderPaperGrid(panelAll, filtered);
        } else if (activeTab === "midterm") {
          renderPaperGrid(panelMid, mid);
        } else {
          renderPaperGrid(panelEnd, end);
        }
      }

      searchInput.addEventListener("input", (e) => {
        searchTerm = e.target.value || "";
        render();
      });
      yearSelect.addEventListener("change", (e) => {
        selectedYear = e.target.value;
        render();
      });
      subjectSelect.addEventListener("change", (e) => {
        selectedSubject = e.target.value;
        render();
      });

      document.querySelectorAll(".tab-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const tab = btn.getAttribute("data-tab");
          activeTab = tab;

          document.querySelectorAll(".tab-btn").forEach((b) =>
            b.classList.remove("active")
          );
          btn.classList.add("active");

          panelAll.style.display = tab === "all" ? "" : "none";
          panelMid.style.display = tab === "midterm" ? "" : "none";
          panelEnd.style.display = tab === "endterm" ? "" : "none";

          render();
        });
      });

      initFilters();
      render();
    </script>
    <script src="include-html.js"></script>
  </body>
</html>
